<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">










<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> 
<meta http-equiv="Content-Language" content="ja" /> 
<meta http-equiv="Content-Style-Type" content="text/css" /> 
<title>Doma - Doma-Gen</title>
<link rel="stylesheet" type="text/css" href="http://www.seasar.org/theme/main.css" media="screen,projection" />
<link rel="stylesheet" type="text/css" href="http://www.seasar.org/theme/print.css" media="print" />
<link href="../css/maven-base.css" type="text/css" rel="stylesheet" media="screen" />
<link href="../css/maven-theme.css" type="text/css" rel="stylesheet" media="screen" />
<link href="../css/prettify.css" type="text/css" rel="stylesheet" media="screen" />
<script type="text/javascript" src="../js/prettify.js"></script>
</head>

<body onload="prettyPrint()">

<div id="wrapper">

<div id="header">

<div class="line"><span class="hide">spacer</span></div>

<div id="logo"><h1 id="h01" class="hide">The Seasar Project</h1><a href="http://www.seasar.org/" alt="The Seasar Project" title="The Seasar Project"><img src="http://www.seasar.org/images/seasar_logo_blue.gif" alt="The Seasar Project" width="390" height="180" /></a></div>

<div id="tool">

<h2><a href="http://search.seasar.org/">Site Search</a></h2>

<form id="search" action="http://search.seasar.org/">
<div>
	<input id="search_phrase" type="text" name="phrase" size="20" />
	<input type="hidden" name="perpage" value="30" />
	<input type="hidden" name="enc" value="UTF-8" />
	<input id="search_go" type="submit" value="Search" />
</div>
</form>

<h2>Seasar Banner</h2>
            <a href="http://www.seasar.org/" id="bannerLeft">
    
                                    <img src="http://www.seasar.org/images/seasar_banner.gif" alt="" />
    
            </a>
      
</div>

<div id="navi">
	<p id="navi_left">  
          <a href="http://www.seasar.org/">Seasar</a>
              &gt;
      
          <a href="../index.html">Doma</a>
          </p>
	<p id="navi_right"><a href="../../en/">English</a> | <a href="../../ja/">Japanese</a></p>
</div>

</div><!-- header -->

<div id="contents_left">
           
  

  
    
  
  
                   <h2>About</h2>
        <ul>
              
    <li class="none">
              <a href="../index.html">ホーム</a>
        </li>
              
    <li class="none">
              <a href="../overview.html">概要</a>
        </li>
              
    <li class="none">
              <a href="../downloads.html">ダウンロード</a>
        </li>
              
    <li class="none">
              <a href="https://www.seasar.org/issues/browse/DOMA">課題追跡</a>
        </li>
              
    <li class="none">
              <a href="https://www.seasar.org/issues/browse/DOMA#selectedTab=com.atlassian.jira.plugin.system.project%3Achangelog-panel">変更履歴</a>
        </li>
              
    <li class="none">
              <a href="https://ml.seasar.org/mailman/listinfo/seasar-user">メーリングリスト</a>
        </li>
              
    <li class="none">
              <a href="../faq.html">よくある質問</a>
        </li>
          </ul>
          <h2>ドキュメント</h2>
        <ul>
              
    <li class="none">
              <a href="../setup.html">セットアップ</a>
        </li>
              
    <li class="none">
              <a href="../quick_start.html">クイックスタート</a>
        </li>
              
                
              
      
            
      
            
      
            
      
              
        <li class="collapsed">
              <a href="../tutorial/index.html">チュートリアル</a>
              </li>
              
                
              
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
                  
      
            
      
            
      
            
      
            
      
              
        <li class="collapsed">
              <a href="../reference/index.html">リファレンス</a>
              </li>
              
    <li class="none">
              <a href="../jpetstore.html">デモアプリ - Doma JPetStore</a>
        </li>
              
                
              
      
            
            
            
      
            
      
                    
            <li class="expanded">
              <a href="../extension/index.html">開発支援ツール</a>
                <ul>
                  
    <li class="none">
              <a href="../extension/doma_tools.html">Doma Tools</a>
        </li>
                  
                
              
      
            
      
              
            <li class="expanded">
              <strong>Doma-Gen</strong>
                <ul>
                  
    <li class="none">
              <a href="../extension/doma_gen_gen_task.html">Gen</a>
        </li>
                  
    <li class="none">
              <a href="../extension/doma_gen_gentest_task.html">GenTest</a>
        </li>
              </ul>
        </li>
              </ul>
        </li>
              
    <li class="none">
              <a href="http://www.seasar.org/wiki/index.php?DomaUpdateOperationLog">移行ガイド</a>
        </li>
          </ul>
          <h2>Javadocs</h2>
        <ul>
              
    <li class="none">
              <a href="../apidocs/index.html">Doma</a>
        </li>
              
    <li class="none">
              <a href="../extension/doma-gen/apidocs/index.html">Doma-Gen</a>
        </li>
          </ul>
          <h2>プロジェクト文書</h2>
        <ul>
              
                
              
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
              
        <li class="collapsed">
              <a href="../project-info.html">プロジェクト情報</a>
              </li>
          </ul>
                                       <a href="http://maven.apache.org/" title="Built by Maven" id="poweredBy" name="poweredBy">
            <img alt="Built by Maven" src="../images/logos/maven-feather.png" />
          </a>
                       
  

  
    
  
  
  </div><!-- contents_left -->

<div id="contents_center">

<div id="article">
<div class="section"><h2><a name="目次"></a>目次</h2>
<ul><li><a href="#概要">概要</a></li>
<li><a href="#セットアップ">セットアップ</a></li>
<li><a href="#タスク">タスク</a></li>
<li><a href="#サンプル用ビルドファイル">サンプル用ビルドファイル</a></li>
<li><a href="#実行方法">実行方法</a></li>
</ul>
</div>
<div class="section"><h2><a name="概要"></a>概要</h2>
<p>
				Doma-Genは、<a class="externalLink" href="http://ant.apache.org/">Ant</a>と<a class="externalLink" href="http://freemarker.org/">FreeMarker</a>を使用したコード生成ツールです。
			</p>
<p>
				Doma-Genを利用すると、次のことが可能です。
			</p>
<ul><li>エンティティクラスのJavaコード生成</li>
<li>エンティティリスナークラスのJavaコード生成</li>
<li>DaoインタフェースのJavaコード生成</li>
<li>SQLのコード生成</li>
<li>SQLをテストするためのJavaテストコード生成</li>
</ul>
</div>
<div class="section"><h2><a name="セットアップ"></a>セットアップ</h2>
<p>
				Doma-Genの配布ファイルを、<a href="../downloads.html">ダウンロードページ</a>からダウンロードします。
			</p>
<p>
				配布ファイルを解凍し、Doma-GenとFreeMarkerのjarファイルとサンプル用のビルドファイル（doma-gen-build.xml）を取り出してください。
			</p>
<p>
				Doma-GenとFreeMarkerのjarファイルは、Antタスクのクラスパスに通す必要があります。
				サンプル用のビルドファイルは、独自ビルドファイル作成時のコピー元として活用してください。
			</p>
</div>
<div class="section"><h2><a name="タスク"></a>タスク</h2>
<p>
				Doma-Genには、2つのタスクが用意されています。
			</p>
<table class="bodyTable"><tr class="a"><th>タスク名</th>
<th>説明</th>
</tr>
<tr class="b"><td><a href="doma_gen_gen_task.html">Gen</a></td>
<td>アプリケーション実行時に使用されるクラスやSQLのコードを生成します。</td>
</tr>
<tr class="a"><td><a href="doma_gen_gentest_task.html">GenTest</a></td>
<td>テストのためのコードを生成します。</td>
</tr>
</table>
</div>
<div class="section"><h2><a name="サンプル用ビルドファイル"></a>サンプル用ビルドファイル</h2>
<p>
				GenタスクとGenTestタスクを使用するサンプル用ビルドファイルの内容を示します。
				これは、配布ファイルに含まれているサンプルのdoma-gen-build.xmlと同じものです。
			</p>
<div class="source"><pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;project name=&quot;doma-gen-example&quot; default=&quot;gen&quot; basedir=&quot;.&quot;&gt;
    
    &lt;property name=&quot;javaDestDir&quot; value=&quot;src&quot;/&gt;
    &lt;property name=&quot;sqlDestDir&quot; value=&quot;src&quot;/&gt;
    &lt;property name=&quot;dialectName&quot; value=&quot;hsqldb&quot;/&gt;
    &lt;property name=&quot;driverClassName&quot; value=&quot;org.hsqldb.jdbcDriver&quot;/&gt;
    &lt;property name=&quot;url&quot; value=&quot;jdbc:hsqldb:file:example&quot;/&gt;
    &lt;property name=&quot;user&quot; value=&quot;sa&quot;/&gt;
    &lt;property name=&quot;password&quot; value=&quot;&quot;/&gt;
    &lt;property name=&quot;entityPackageName&quot; value=&quot;example.entity&quot;/&gt;
    &lt;property name=&quot;daoPackageName&quot; value=&quot;example.dao&quot;/&gt;
    &lt;property name=&quot;configClassName&quot; value=&quot;example.AppConfig&quot;/&gt;
    &lt;property name=&quot;sqlTestClassName&quot; value=&quot;example.SqlTest&quot;/&gt;
    &lt;property name=&quot;sqlFilePattern&quot; value=&quot;META-INF/**/*.sql&quot;/&gt;
    
    &lt;path id=&quot;classpath&quot;&gt;
        &lt;fileset dir=&quot;lib&quot;/&gt;
    &lt;/path&gt;

    &lt;taskdef name=&quot;gen&quot; classname=&quot;org.seasar.doma.extension.gen.task.Gen&quot; classpathref=&quot;classpath&quot; loaderref=&quot;loader&quot;/&gt;
    &lt;taskdef name=&quot;genTest&quot; classname=&quot;org.seasar.doma.extension.gen.task.GenTest&quot; loaderref=&quot;loader&quot;/&gt;
    &lt;typedef name=&quot;entityConfig&quot; classname=&quot;org.seasar.doma.extension.gen.task.EntityConfig&quot; loaderref=&quot;loader&quot;/&gt;
    &lt;typedef name=&quot;daoConfig&quot; classname=&quot;org.seasar.doma.extension.gen.task.DaoConfig&quot; loaderref=&quot;loader&quot;/&gt;
    &lt;typedef name=&quot;sqlConfig&quot; classname=&quot;org.seasar.doma.extension.gen.task.SqlConfig&quot; loaderref=&quot;loader&quot;/&gt;
    &lt;typedef name=&quot;sqlTestConfig&quot; classname=&quot;org.seasar.doma.extension.gen.task.SqlTestConfig&quot; loaderref=&quot;loader&quot;/&gt;
    
    &lt;target name=&quot;gen&quot;&gt;
        &lt;gen
            dialectName=&quot;${dialectName}&quot;
            driverClassName=&quot;${driverClassName}&quot;
            url=&quot;${url}&quot;
            user=&quot;${user}&quot;
            password=&quot;${password}&quot;&gt;
            &lt;entityConfig
                destdir=&quot;${javaDestDir}&quot;
                packageName=&quot;${entityPackageName}&quot;
            /&gt;
            &lt;daoConfig
                destdir=&quot;${javaDestDir}&quot;
                packageName=&quot;${daoPackageName}&quot;
                configClassName=&quot;${configClassName}&quot;
            /&gt;
            &lt;sqlConfig
                destdir=&quot;${sqlDestDir}&quot;
            /&gt;
        &lt;/gen&gt;
    &lt;/target&gt;

    &lt;target name=&quot;genTest&quot;&gt;
        &lt;genTest
            dialectName=&quot;${dialectName}&quot;
            driverClassName=&quot;${driverClassName}&quot;
            url=&quot;${url}&quot;
            user=&quot;${user}&quot;
            password=&quot;${password}&quot;&gt;
            &lt;sqlTestConfig
                destdir=&quot;${javaDestDir}&quot;
                testClassName=&quot;${sqlTestClassName}&quot;&gt;
                &lt;fileset dir=&quot;${sqlDestDir}&quot;&gt;
                    &lt;include name=&quot;${sqlFilePattern}&quot;/&gt;
                &lt;/fileset&gt;
            &lt;/sqlTestConfig&gt;
        &lt;/genTest&gt;
    &lt;/target&gt;

&lt;/project&gt;</pre>
</div>
</div>
<div class="section"><h2><a name="実行方法"></a>実行方法</h2>
<p>
				Eclipse3.5のWindows版を使用している場合、AntはEclipse上からではなく、コマンドラインから実行してください。
				Eclipse3.5のWindows版には、コンソールに日本語を出力できない問題があります（Ecipse3.6では解決されています）。
				コマンドラインから実行するには、Antを適切にインストールした環境で、次のように実行してください。
			</p>
<div class="source"><pre>ant -f doma-gen-build.xml ターゲット名</pre>
</div>
<p>
				この例では、上述したdoma-gen-build.xmlを使うものとします。
				ターゲット名にはgen、もしくはgenTestを指定できます。
			</p>
<p>
				Eclipseを使用している場合、Eclipseの自動リフレッシュ機能を有効にしておくと、Eclipse外部で生成されたファイルが自動で認識されます。
				この機能を有効にしておけば、Antでファイルを生成した後、手動でEclipseのワークスペースをリフレッシュする必要がなくなります。
			</p>
<p>
				この機能を有効にするには、メニューから「Window」 - [Preferences」 - 「General」 - 「Workspace」と辿り、「Refresh Automatically」をチェックします。
			</p>
<img src="../images/eclipse_auto_refresh.png" alt="自動リフレッシュ機能の設定" /></div>

</div><!-- article -->

</div><!-- contents_center -->

<div id="footer">
<address>  &copy; Copyright 
                    <a href="http://www.seasarfoundation.org/">The Seasar Foundation</a>.
            and the others
    
              2009-2014,
        all rights reserved.
  <a href="http://www.seasar.org">The Seasar Project</a>.
</address>
<div class="line"><span class="hide">spacer</span></div>
</div><!-- footer -->

</div><!-- wrapper -->

</body>
</html>
